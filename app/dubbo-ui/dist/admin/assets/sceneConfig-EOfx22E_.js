import{c as e,A as te,d as L,n as U,e as d,o as s,f as S,t as a,v as c,h as p,a3 as D,a4 as ae,a5 as B,a6 as V,F as T,x as q,y as R,z as Q,J as g,a7 as H,a1 as E,E as W,G as X,H as $,_ as Y,r as ne}from"./index-QTFC1BX7.js";var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const oe=le;function K(i){for(var m=1;m<arguments.length;m++){var t=arguments[m]!=null?Object(arguments[m]):{},f=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(t).filter(function(y){return Object.getOwnPropertyDescriptor(t,y).enumerable}))),f.forEach(function(y){ue(i,y,t[y])})}return i}function ue(i,m,t){return m in i?Object.defineProperty(i,m,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[m]=t,i}var z=function(m,t){var f=K({},m,t.attrs);return e(te,K({},f,{icon:oe}),null)};z.displayName="MinusOutlined";z.inheritAttrs=!1;const G=z,se=i=>(W("data-v-6e55c1ea"),i=i(),X(),i),ie={class:"__container_services_tabs_param_route"},de=se(()=>$("span",null,"路由",-1)),re=L({__name:"paramRoute",props:{paramRouteForm:{type:Object,default:()=>{}},index:{type:Number}},emits:["deleteParamRoute","update"],setup(i,{emit:m}){const t=U(!1),f=()=>{t.value=!0},y=m,b=i,n=U({method:{value:void 0,selectArr:[]},functionParams:[],destination:[]}),N=()=>{t.value=!1,n.value=JSON.parse(JSON.stringify(b.paramRouteForm))};N();const A=()=>{t.value=!1,y("update",b.index,n)},k=[{title:"参数索引",key:"param",dataIndex:"param",width:"30%"},{title:"关系",key:"relation",dataIndex:"relation",width:"30%"},{title:"值",key:"value",dataIndex:"value",width:"30%"},{title:"操作",key:"handle",dataIndex:"handle",width:"10%"}],o=[{title:"标签",key:"label",dataIndex:"label",width:"25%"},{title:"关系",key:"relation",dataIndex:"relation",width:"25%"},{title:"值",key:"value",dataIndex:"value",width:"25%"},{title:"权重",key:"weight",dataIndex:"weight",width:"15%"},{title:"操作",key:"handle",dataIndex:"handle",width:"10%"}],C=_=>{n.value.functionParams.splice(_+1,0,{param:"",relation:"",value:""})},F=_=>{n.value.functionParams.splice(_,1)},w=_=>{n.value.destination.splice(_+1,0,{label:"",relation:"",value:"",weight:""})},I=_=>{n.value.destination.splice(_,1)};return(_,P)=>{const h=d("a-flex"),j=d("a-select-option"),M=d("a-select"),x=d("a-form-item"),l=d("a-input"),O=d("a-table"),Z=d("a-form"),ee=d("a-card");return s(),S("div",ie,[e(ee,{bordered:!1,style:{width:"1000px"}},{title:a(()=>[e(h,{justify:"space-between"},{default:a(()=>[de,t.value?(s(),c(h,{key:1,class:"handle-form"},{default:a(()=>[e(p(B),{onClick:A,class:"edit-icon"}),e(p(V),{onClick:N,class:"edit-icon"})]),_:1})):(s(),c(h,{key:0,class:"handle-form"},{default:a(()=>[e(p(D),{onClick:f,class:"edit-icon"}),e(p(ae),{onClick:P[0]||(P[0]=v=>y("deleteParamRoute",b.index)),class:"edit-icon"})]),_:1}))]),_:1})]),default:a(()=>[e(Z,{labelCol:{span:3},disabled:!t.value},{default:a(()=>[e(x,{label:"选择方法"},{default:a(()=>[e(M,{value:n.value.method.value,"onUpdate:value":P[1]||(P[1]=v=>n.value.method.value=v),style:{width:"120px"}},{default:a(()=>[(s(!0),S(T,null,q(n.value.method.selectArr,(v,u)=>(s(),c(j,{value:v,key:u},{default:a(()=>[R(Q(v),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),e(x,{label:"指定方法参数"},{default:a(()=>[e(O,{columns:k,"data-source":n.value.functionParams,pagination:!1},{bodyCell:a(({column:v,index:u})=>[v.dataIndex==="param"?(s(),c(l,{key:0,value:n.value.functionParams[u].param,"onUpdate:value":r=>n.value.functionParams[u].param=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="relation"?(s(),c(l,{key:1,value:n.value.functionParams[u].relation,"onUpdate:value":r=>n.value.functionParams[u].relation=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="value"?(s(),c(l,{key:2,value:n.value.functionParams[u].value,"onUpdate:value":r=>n.value.functionParams[u].value=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="handle"?(s(),c(h,{key:3,justify:"space-between"},{default:a(()=>[e(p(H),{class:E(["edit-icon",{"disabled-icon":!t.value}]),onClick:r=>t.value&&C(b.index,u)},null,8,["class","onClick"]),e(p(G),{class:E(["edit-icon",{"disabled-icon":!t.value||n.value.functionParams.length===1}]),onClick:r=>t.value&&n.value.functionParams.length!==1&&F(b.index,u)},null,8,["class","onClick"])]),_:2},1024)):g("",!0)]),_:1},8,["data-source"])]),_:1}),e(x,{label:"路由目的地"},{default:a(()=>[e(O,{columns:o,"data-source":n.value.destination,pagination:!1},{bodyCell:a(({column:v,index:u})=>[v.dataIndex==="label"?(s(),c(l,{key:0,value:n.value.destination[u].label,"onUpdate:value":r=>n.value.destination[u].label=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="relation"?(s(),c(l,{key:1,value:n.value.destination[u].relation,"onUpdate:value":r=>n.value.destination[u].relation=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="value"?(s(),c(l,{key:2,value:n.value.destination[u].value,"onUpdate:value":r=>n.value.destination[u].value=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="weight"?(s(),c(l,{key:3,value:n.value.destination[u].weight,"onUpdate:value":r=>n.value.destination[u].weight=r},null,8,["value","onUpdate:value"])):g("",!0),v.dataIndex==="handle"?(s(),c(h,{key:4,justify:"space-between"},{default:a(()=>[e(p(H),{class:E(["edit-icon",{"disabled-icon":!t.value}]),onClick:r=>t.value&&w(u)},null,8,["class","onClick"]),e(p(G),{class:E(["edit-icon",{"disabled-icon":!t.value||n.value.functionParams.length===1}]),onClick:r=>t.value&&n.value.functionParams.length!==1&&I(u)},null,8,["class","onClick"])]),_:2},1024)):g("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["disabled"])]),_:1})])}}}),ce=Y(re,[["__scopeId","data-v-6e55c1ea"]]),J=i=>(W("data-v-941b970e"),i=i(),X(),i),ve={class:"__container_services_tabs_scene_config"},me={class:"item-content"},pe=J(()=>$("span",{style:{"margin-left":"5px"}},"ms",-1)),_e=J(()=>$("span",{class:"item-content"},"1000次",-1)),fe=J(()=>$("span",{style:{"margin-left":"5px"}},"次",-1)),ye=L({__name:"sceneConfig",setup(i){const m=U("1000"),t=ne({timeout:{isEdit:!1,value:""},retryNum:{isEdit:!1,value:""},sameArea:{value:"close"}}),f=U("timeout"),y=k=>{t[k].isEdit=!0},b=k=>{switch(t[k].isEdit=!1,k){case"timeout":m.value=t[k].value;break}},n=U([]),N=()=>{n.value.push({method:{value:"getUserInfo",selectArr:["getUserInfo","register","login"]},functionParams:[{param:"",relation:"",value:""}],destination:[{label:"",relation:"",value:"",weight:""}]})},A=k=>{n.value.splice(k,1)};return(k,o)=>{const C=d("a-flex"),F=d("a-input-number"),w=d("a-descriptions-item"),I=d("a-descriptions"),_=d("a-tab-pane"),P=d("a-input"),h=d("a-radio-button"),j=d("a-radio-group"),M=d("a-button"),x=d("a-tabs");return s(),S("div",ve,[e(x,{activeKey:f.value,"onUpdate:activeKey":o[9]||(o[9]=l=>f.value=l),"tab-position":"left",animated:""},{default:a(()=>[e(_,{key:"timeout",tab:"超时时间"},{default:a(()=>[e(I,{layout:"vertical"},{default:a(()=>[e(w,{label:"超时时间"},{default:a(()=>[t.timeout.isEdit?(s(),c(C,{key:1,align:"center"},{default:a(()=>[e(F,{min:"0",value:t.timeout.value,"onUpdate:value":o[1]||(o[1]=l=>t.timeout.value=l),class:"item-input"},null,8,["value"]),pe,e(p(B),{onClick:o[2]||(o[2]=l=>b("timeout")),class:"item-icon"}),e(p(V),{onClick:o[3]||(o[3]=l=>b("timeout")),class:"item-icon"})]),_:1})):(s(),c(C,{key:0},{default:a(()=>[$("span",me,Q(m.value)+"ms",1),e(p(D),{onClick:o[0]||(o[0]=l=>y("timeout")),class:"item-icon"})]),_:1}))]),_:1})]),_:1})]),_:1}),e(_,{key:"retryNum",tab:"重试次数"},{default:a(()=>[e(I,{layout:"vertical"},{default:a(()=>[e(w,{label:"重试次数"},{default:a(()=>[t.retryNum.isEdit?(s(),c(C,{key:1,align:"center"},{default:a(()=>[e(P,{value:t.retryNum.value,"onUpdate:value":o[5]||(o[5]=l=>t.retryNum.value=l),class:"item-input"},null,8,["value"]),fe,e(p(B),{onClick:o[6]||(o[6]=l=>b("retryNum")),class:"item-icon"}),e(p(V),{onClick:o[7]||(o[7]=l=>b("retryNum")),class:"item-icon"})]),_:1})):(s(),c(C,{key:0},{default:a(()=>[_e,e(p(D),{onClick:o[4]||(o[4]=l=>y("retryNum")),class:"item-icon"})]),_:1}))]),_:1})]),_:1})]),_:1}),e(_,{key:"sameArea",tab:"同区域优先"},{default:a(()=>[e(I,{layout:"vertical"},{default:a(()=>[e(w,{label:"同区域优先"},{default:a(()=>[e(j,{value:t.sameArea.value,"onUpdate:value":o[8]||(o[8]=l=>t.sameArea.value=l),"button-style":"solid"},{default:a(()=>[e(h,{value:"close"},{default:a(()=>[R("关闭")]),_:1}),e(h,{value:"open"},{default:a(()=>[R("开启")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(_,{key:"paramRoute",tab:"参数路由"},{default:a(()=>[(s(!0),S(T,null,q(n.value,(l,O)=>(s(),c(ce,{class:"param-route",key:O,paramRouteForm:l,index:O,onUpdate:()=>{},onDeleteParamRoute:A},null,8,["paramRouteForm","index"]))),128)),e(M,{type:"primary",style:{"margin-top":"20px"},onClick:N},{default:a(()=>[R("增加路由")]),_:1})]),_:1})]),_:1},8,["activeKey"])])}}}),ke=Y(ye,[["__scopeId","data-v-941b970e"]]);export{ke as default};
